<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from function.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>function</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>
<h1><a id="id200" name="id200">function</a>
</h1><div class="para"><div>
　TJS2 functions are almost the same as <a id="id201" name="id201" class="targanchor"><dfn>subroutine</dfn></a>. A function that does not return a value is treated as a function.<br />
　In particular, functions that are members of classes and objects are sometimes called &quot;<a id="id202" name="id202" class="targanchor"><dfn>methods</dfn></a>&quot;.<br />
</div></div>
<h1><a id="id203" name="id203">How to write functions</a>
</h1><div class="para"><div>
　Functions can be written in the following format:<br />

<br />
<code class="bq">&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;function_name&nbsp;(&nbsp;argument_list&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_contents<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　First, to define the function, write <a id="id204" name="id204" class="targanchor"><dfn>function</dfn></a>. After that, write the name of the function. The function can be used with the name written here.<br />
　In the contents of the function, you can describe statements or blocks that you want to execute in the function.<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test(a)&nbsp;{&nbsp;System.inform(a);&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(a,&nbsp;b,&nbsp;c,&nbsp;d)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(a);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(b);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(c);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(d);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;a+b-c*d;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
True if you use the instanceof operator on a function with &quot;Function&quot; (in the example above, func instanceof &quot;Function&quot; is true).<br />
</div></div>
<h1><a id="id205" name="id205">Function call</a>
</h1><div class="para"><div>
　Function calls are written as follows using the <a id="id206" name="id206" class="targanchor"><dfn>( )</dfn></a> operator.<br />
<code class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;function_name(arguments)<br />
</code>&nbsp;&nbsp;&nbsp;&nbsp;If there is no argument, it will be <code class="inlinecode">function_name()</code>. For the argument, specify an expression. If there is more than one, specify them by separating them with commas.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;func();<br />
&nbsp;&nbsp;&nbsp;&nbsp;func(1+2,&nbsp;1-2);<br />
&nbsp;&nbsp;&nbsp;&nbsp;func(func2());<br />
</code>
<br />

<br />
&nbsp;&nbsp;&nbsp;&nbsp;Also, if you leave it empty without specifying an expression, it is assumed that void is specified in that part.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;func(,1);&nbsp;<span class="comment">//&nbsp;void,&nbsp;1&nbsp;is&nbsp;assumed&nbsp;to&nbsp;be&nbsp;specified</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;func(,);&nbsp;<span class="comment">//&nbsp;void,&nbsp;void&nbsp;is&nbsp;assumed&nbsp;to&nbsp;be&nbsp;specified</span><br />
</code>
<br />

</div></div>
<h1><a id="id207" name="id207">Argument list</a>
</h1><div class="para"><div>
　In the argument list, write the name of the variable to receive the passed argument. Of the arguments passed at the time of the function call, they are passed to the variables in order from the one written before.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test(a,&nbsp;b,&nbsp;c)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;At&nbsp;this&nbsp;point,&nbsp;the&nbsp;variables&nbsp;a,&nbsp;b,&nbsp;and&nbsp;c&nbsp;are&nbsp;available,&nbsp;with&nbsp;the&nbsp;three&nbsp;arguments&nbsp;passed&nbsp;as&nbsp;arguments.&nbsp;When&nbsp;you&nbsp;call&nbsp;test&nbsp;(1,&nbsp;2,&nbsp;3),&nbsp;a&nbsp;contains&nbsp;1&nbsp;and&nbsp;b&nbsp;contains&nbsp;2,&nbsp;and&nbsp;c&nbsp;contains&nbsp;3.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　These arguments are local variables and will not be accessible once execution exits the function.<br />
<br />
　In TJS2, it is not an error if the number of arguments given in a function call is less or more than the number of arguments in the declaration (except for functions that are not written in TJS2 ( Function written in C++, etc.) may cause an error.) If more arguments are given than declarations, more will be ignored; otherwise, void will be passed to the missing variables.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test(a,&nbsp;b)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;If&nbsp;called&nbsp;as&nbsp;test&nbsp;(1),&nbsp;a&nbsp;will&nbsp;contain&nbsp;1&nbsp;and&nbsp;b&nbsp;will&nbsp;contain&nbsp;void.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;If&nbsp;called&nbsp;as&nbsp;test&nbsp;(1,2,3),&nbsp;a&nbsp;is&nbsp;1&nbsp;and&nbsp;b&nbsp;is&nbsp;2;&nbsp;3&nbsp;is&nbsp;ignored</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　Each argument in the argument list can have a default value (<a id="id208" name="id208" class="targanchor"><dfn>default argument</dfn></a>) following the =. This means that if void is specified or if the given argument is less than the argument in the declaration, the specified value will be used automatically.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test(a&nbsp;=&nbsp;-1,&nbsp;b&nbsp;=&nbsp;1)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;if...</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;When&nbsp;called&nbsp;as&nbsp;test&nbsp;(),&nbsp;a&nbsp;=&nbsp;-1,&nbsp;b&nbsp;=&nbsp;1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;When&nbsp;called&nbsp;as&nbsp;test&nbsp;(5),&nbsp;a&nbsp;=&nbsp;5,&nbsp;b&nbsp;=&nbsp;1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;When&nbsp;called&nbsp;as&nbsp;test&nbsp;(void,&nbsp;void),&nbsp;a&nbsp;=&nbsp;-1,&nbsp;b&nbsp;=&nbsp;1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;When&nbsp;called&nbsp;as&nbsp;test&nbsp;(,&nbsp;4),&nbsp;a&nbsp;=&nbsp;-1,&nbsp;b&nbsp;=&nbsp;4</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　Functions that do not need to accept arguments can omit the argument list.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Functions&nbsp;that&nbsp;do&nbsp;not&nbsp;accept&nbsp;arguments</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

</div></div>
<h1><a id="id209" name="id209">Function in expression</a>
</h1><div class="para"><div>
　The function keyword can be used in expressions to create unnamed functions, functions in expressions (<a id="id210" name="id210" class="targanchor"><dfn>anonymous functions</dfn></a>).<br />
　In this case, omit the function name.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;func&nbsp;=&nbsp;function(i)&nbsp;{&nbsp;return&nbsp;i*5;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;func2&nbsp;=&nbsp;function&nbsp;{&nbsp;System.inform(&quot;hoge&quot;);&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;v&nbsp;=&nbsp;func();&nbsp;<span class="comment">//&nbsp;func&nbsp;call</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;func2();&nbsp;<span class="comment">//&nbsp;func2&nbsp;call</span><br />
</code>
<br />

</div></div>
<h1><a id="id211" name="id211">Omitting arguments</a>
</h1><div class="para"><div>
　If you write only <a id="id212" name="id212" class="targanchor"><dfn>...</dfn></a> as arguments when calling a function, the arguments passed to the function that describes the expression to be called will be passed to the function that called the function. This means that even if you have changed the contents of the argument variables, or if you have not received enough arguments, you will know the correct original contents and the number of arguments.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;test()<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test2(...);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;test2&nbsp;is&nbsp;passed&nbsp;the&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;test&nbsp;with&nbsp;the&nbsp;exact&nbsp;content&nbsp;and&nbsp;number&nbsp;of&nbsp;arguments&nbsp;passed</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

</div></div>
<h1><a id="id213" name="id213">Array conversion of arguments</a>
</h1><div class="para"><div>
　Arguments can be received as an array. To receive as an array, declare the function with '<a id="id214" name="id214" class="targanchor"><dfn>*</dfn></a>' in the argument name.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(args*)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;args&nbsp;will&nbsp;be&nbsp;an&nbsp;array&nbsp;with&nbsp;the&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;this&nbsp;function&nbsp;as&nbsp;elements.&nbsp;For&nbsp;example,&nbsp;if&nbsp;called&nbsp;as&nbsp;func&nbsp;(1,&nbsp;2,&nbsp;3,&nbsp;4),&nbsp;args&nbsp;will&nbsp;contain&nbsp;4&nbsp;elements&nbsp;and&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;Will&nbsp;be&nbsp;in&nbsp;the&nbsp;order&nbsp;of.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　You can also receive everything from the middle to the end of the argument as an array. The array will be empty if there are not enough arguments.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(x,&nbsp;args*)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;For&nbsp;example,&nbsp;when&nbsp;called&nbsp;as&nbsp;func&nbsp;(1,&nbsp;2,&nbsp;3,&nbsp;4),&nbsp;x&nbsp;contains&nbsp;1.&nbsp;Also,&nbsp;args&nbsp;contains&nbsp;three&nbsp;elements,&nbsp;and&nbsp;the&nbsp;numbers&nbsp;are&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;2&nbsp;3&nbsp;4&nbsp;from&nbsp;the&nbsp;top.&nbsp;When&nbsp;called&nbsp;as&nbsp;func&nbsp;(1),&nbsp;args&nbsp;is&nbsp;an&nbsp;array&nbsp;with&nbsp;no&nbsp;elements&nbsp;because&nbsp;there&nbsp;are&nbsp;fewer&nbsp;arguments.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

　This is useful if you want to handle variable length arguments.<br />
<br />
　It is also possible not to specify the argument name. In this case, it can be used as an unnamed * when expanding to an array argument described below.<br />
</div></div>
<h1><a id="id215" name="id215">Expand array into arguments</a>
</h1><div class="para"><div>
　You can expand the array and pass it as an argument to the function. In this case, call the function with '<a id="id216" name="id216" class="targanchor"><dfn>*</dfn></a>' after the expression you want to expand, as in the case of argument array expansion. The expression you want to expand with '*' must represent an array.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;args&nbsp;=&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4];<br />
&nbsp;&nbsp;&nbsp;&nbsp;func(args*);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Since&nbsp;args&nbsp;contains&nbsp;4&nbsp;elements&nbsp;of&nbsp;1&nbsp;2&nbsp;3&nbsp;4,&nbsp;it&nbsp;has&nbsp;the&nbsp;same&nbsp;meaning&nbsp;as&nbsp;func&nbsp;(1,&nbsp;2,&nbsp;3,&nbsp;4);</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;func(0,&nbsp;args*,&nbsp;5);<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;In&nbsp;this&nbsp;way,&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;put&nbsp;it&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;argument.</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;In&nbsp;this&nbsp;case,&nbsp;it&nbsp;has&nbsp;the&nbsp;same&nbsp;meaning&nbsp;as&nbsp;func&nbsp;(0,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5);</span><br />
</code>
<br />

<br />
　By simply specifying * as an argument without specifying an expression, the argument represented by the unnamed '*' written when declaring the function that describes the expression to be called can be passed to the callee as it is.
<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(func_array,&nbsp;*)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Calls&nbsp;the&nbsp;function&nbsp;specified&nbsp;by&nbsp;func_array,&nbsp;passing&nbsp;the&nbsp;second&nbsp;and&nbsp;subsequent&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;func&nbsp;as&nbsp;is,&nbsp;following&nbsp;the&nbsp;function's&nbsp;position&nbsp;in&nbsp;func_array</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(var&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;func_array.count;&nbsp;i++)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func_array[i](i,&nbsp;*);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　Function call processing with an unnamed * is more efficient than using a named array.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(ar*)&nbsp;{&nbsp;func2(ar*);&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(*)&nbsp;{&nbsp;func2(*);&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;The&nbsp;above&nbsp;two&nbsp;have&nbsp;exactly&nbsp;the&nbsp;same&nbsp;meaning,&nbsp;but&nbsp;the&nbsp;example&nbsp;below&nbsp;is&nbsp;more&nbsp;efficient</span><br />
</code>
<br />

<br />
　An unnamed * has the same effect as &quot;argument omission&quot;. The following two function declarations have the same meaning.<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func()&nbsp;{&nbsp;func2(...);&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func(*)&nbsp;{&nbsp;func2(*);&nbsp;}<br />
</code>
<br />

</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
