<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from vmcodes.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Virtual machine</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>
<h1><a id="id463" name="id463">TJS2 VM</a>
</h1><div class="para"><div>
　TJS2 compiles the script into binary code for the virtual machine (TJS2 <a id="id464" name="id464" class="targanchor"><dfn>VM</dfn></a>) and then executes it.<br />
　A brief description of this virtual machine is provided, as the disassembly result of this TJS2 VM code is displayed when an exception occurs or when a dump is taken.<br />
</div></div>
<h1><a id="id465" name="id465">Instruction code</a>
</h1><div class="para"><div>
　The TJS2 VM is independent for each execution unit such as functions and properties, and one function does not share the instruction code space, register space, flags, and constant area with other functions.<br />
　The instruction pointer (ip) always starts from 0 at the head of a function or the like.<br />
　A mnemonic is a simple human-readable name for an instruction code.</div></div>
<h1><a id="id466" name="id466">register</a>
</h1><div class="para"><div>
　TJS2 VM registers are represented by% (number) in the mnemonic. Numbers can be negative. There is no limit on the number of registers. All local variables and temporary values during calculation are recorded in registers. There is no main memory or stack.<br />
　The values represented by the registers are the same as so-called variables in TJS2, and can represent integers, real numbers, objects, strings, octets, and voids.<br />
　In the current version, register% 0 is always void. Register% -1 becomes this. Register% -2 is a special object called <a id="id467" name="id467" class="targanchor"><dfn>this proxy</dfn></a>. When a member reference is made to this object, the operation that looks at this first, and if not there, goes to global. To do. this proxy does not exist in the global level execution unit. The execution of the function and other arguments is started in a state where they are stored in advance in registers such as% -3 and% -4.<br />
　The values of registers other than those whose uses are predetermined or whose values are stored before execution are undefined at the start of execution.<br />
</div></div>
<h1><a id="id468" name="id468">flag</a>
</h1><div class="para"><div>
　The TJS2 VM has only one flag and stores the comparison result. Flags take only true or false values.<br />
</div></div>
<h1><a id="id469" name="id469">Constant area</a>
</h1><div class="para"><div>
　The constant area of the TJS2 VM is a place to store constants, and is represented by * (number) in the mnemonic. The constant area is read-only, and the const instruction is used to transfer the value of this constant area to the register. In addition, the &quot;name&quot; for accessing the member of the object by name, such as function name and property name, is also stored in this constant area.<br />
</div></div>
<h1><a id="id470" name="id470">VM mnemonic list</a>
</h1><div class="para"><div>
　Some operands have the form <code class="inlinecode">%obj.*name</code> or <code class="inlinecode">%obj.%name</code>, but these involve object member references.<br />
　Operands that have the form <code class="inlinecode">%obj.*name</code> are direct references, and the object represented by the register <code class="inlinecode">%obj</code>  refers to the member whose name is represented by <code class="inlinecode">*name</code>.<br />
　Operands that have the form <code class="inlinecode">%obj.%name</code> perform indirect references, and use the register from the object represented by the register <code class="inlinecode">%obj</code>, refers to the member whose name is represented by <code class="inlinecode">%name</code>.<br />
　The mnemonics for such instructions have the suffix d or pd (direct / property direct) or i or pi (indirect / property indirect).<br />
　Anything with a suffix of p runs the property handler for the target register (works for the unary '*' operator).<br />
<br />
<br />
<dl>
<dt><a id="id471" name="id471" class="targanchor"><dfn>nop</dfn></a><br />
(no operation)</dt>
<dd>　Do nothing.</dd>

<dt><a id="id472" name="id472" class="targanchor"><dfn>const</dfn></a><br />
(copy constant value)</dt>
<dd>Format: <code class="inlinecode">const %dest, *src</code><br />
<br />
　Copy the value of the constant area indicated by *src to the register indicated by %dest.</dd>

<dt><a id="id473" name="id473" class="targanchor"><dfn>cp</dfn></a><br />
(copy register)</dt>
<dd>Format: <code class="inlinecode">cp %dest, %src</code><br />
<br />
　Copies the value of the register pointed to by %src to the register pointed to by %dest.</dd>

<dt><a id="id474" name="id474" class="targanchor"><dfn>cl</dfn></a><br />
(clear register)</dt>
<dd>Format: <code class="inlinecode">cl %dest</code><br />
<br />
　Makes the register indicated by %dest void.</dd>

<dt><a id="id475" name="id475" class="targanchor"><dfn>ccl</dfn></a><br />
(clear register)</dt>
<dd>Format: <code class="inlinecode">ccl %low-%high</code><br />
<br />
　Makes all registers from %low to %high void.</dd>

<dt><a id="id476" name="id476" class="targanchor"><dfn>tt</dfn></a><br />
(test true)</dt>
<dd>Format: <code class="inlinecode">tt %reg</code><br />
<br />
　Sets the flag to true if the register indicated by %reg indicates true, and sets the flag to false if it indicates false.</dd>

<dt><a id="id477" name="id477" class="targanchor"><dfn>tf</dfn></a><br />
(test false)</dt>
<dd>Format: <code class="inlinecode">tf %reg</code><br />
<br />
　Conversely to tt, set the flag to false if the register pointed to by %reg indicates true, and set the flag to true if it indicates false.</dd>

<dt><a id="id478" name="id478" class="targanchor"><dfn>ceq</dfn></a><br />
(compare equal)</dt>
<dd>Format: <code class="inlinecode">ceq %reg1, %reg2</code><br />
<br />
　Set the flag to true if %reg1 and %reg2 match in a normal comparison (the behavior of the == operator), otherwise false.</dd>

<dt><a id="id479" name="id479" class="targanchor"><dfn>cdeq</dfn></a><br />
(compare distinct equal)</dt>
<dd>Format: <code class="inlinecode">cdeq %reg1, %reg2</code><br />
<br />
　Set the flag to true if %reg1 and %reg2 match in an identity comparison (the behavior of the === operator), otherwise set the flag to false.</dd>

<dt><a id="id480" name="id480" class="targanchor"><dfn>clt</dfn></a><br />
(compare littler than)</dt>
<dd>Format: <code class="inlinecode">clt %reg1, %reg2</code><br />
<br />
　Set the flag to true if %reg1 &gt; %reg2, false otherwise.</dd>

<dt><a id="id481" name="id481" class="targanchor"><dfn>cgt</dfn></a><br />
(compare greater than)</dt>
<dd>Format: <code class="inlinecode">cgt %reg1, %reg2</code><br />
<br />
　Set the flag to true if %reg1 &lt; %reg2, false otherwise.</dd>

<dt><a id="id482" name="id482" class="targanchor"><dfn>setf</dfn></a><br />
(set flag)</dt>
<dd>Format: <code class="inlinecode">setf %dest</code><br />
<br />
　Set %dest to true (integer non-zero) if flag is true, false (integer 0) if false.</dd>

<dt><a id="id483" name="id483" class="targanchor"><dfn>setnf</dfn></a><br />
(set not flag)</dt>
<dd>Format: <code class="inlinecode">setnf %dest</code><br />
<br />
　Conversely to setf, sets %dest to true (integer 0) if flag is false, false (integer 0) if true.</dd>

<dt><a id="id484" name="id484" class="targanchor"><dfn>lnot</dfn></a><br />
(logical not)</dt>
<dd>Format: <code class="inlinecode">lnot %reg</code><br />
<br />
　Reverses the truth of %reg.</dd>

<dt><a id="id485" name="id485" class="targanchor"><dfn>nf</dfn></a><br />
(not flag)</dt>
<dd>Format: <code class="inlinecode">nf</code><br />
<br />
　Reverse the truth of the flag.</dd>

<dt><a id="id486" name="id486" class="targanchor"><dfn>jf</dfn></a><br />
(jump if flag)</dt>
<dd>Format: <code class="inlinecode">jf ip</code><br />
<br />
　If the flag is true, jump to ip.</dd>

<dt><a id="id487" name="id487" class="targanchor"><dfn>jnf</dfn></a><br />
(jump if not flag)</dt>
<dd>Format: <code class="inlinecode">jnf ip</code><br />
<br />
　If the flag is false, jump to ip.</dd>

<dt><a id="id488" name="id488" class="targanchor"><dfn>inc</dfn></a>, <a id="id489" name="id489" class="targanchor"><dfn>incpd</dfn></a>, <a id="id490" name="id490" class="targanchor"><dfn>incpi</dfn></a>, <a id="id491" name="id491" class="targanchor"><dfn>incp</dfn></a><br />
(increment)</dt>
<dd>Format: <code class="inlinecode">inc %reg</code><br />
Format: <code class="inlinecode">incpd %res, %obj.*name</code><br />
Format: <code class="inlinecode">incpi %res, %obj.%name</code><br />
Format: <code class="inlinecode">incp %res, %propobj</code><br />
<br />
　Increments %reg or %obj.*name or %obj.%name or %propobj.<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id492" name="id492" class="targanchor"><dfn>dec</dfn></a>, <a id="id493" name="id493" class="targanchor"><dfn>decpd</dfn></a>, <a id="id494" name="id494" class="targanchor"><dfn>decpi</dfn></a>, <a id="id495" name="id495" class="targanchor"><dfn>decp</dfn></a><br />
(decrement)</dt>
<dd>Format: <code class="inlinecode">dec %reg</code><br />
Format: <code class="inlinecode">decpd %res, %obj.*name</code><br />
Format: <code class="inlinecode">decpi %res, %obj.%name</code><br />
Format: <code class="inlinecode">decp %res, %propobj</code><br />
<br />
　Decrement %reg or %obj.*name or %obj.%name or %propobj.<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id496" name="id496" class="targanchor"><dfn>lor</dfn></a>, <a id="id497" name="id497" class="targanchor"><dfn>lorpd</dfn></a>, <a id="id498" name="id498" class="targanchor"><dfn>lorpi</dfn></a>, <a id="id499" name="id499" class="targanchor"><dfn>lorp</dfn></a><br />
(logical or)</dt>
<dd>Format: <code class="inlinecode">lor %dest, %src</code><br />
<br />
　Performs a logical OR of %dest and %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">lorpd %res, %obj.*name, %src</code><br />
<br />
　Performs a logical OR of %obj.*name and %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">lorpi %res, %obj.%name, %src</code><br />
<br />
　Performs a logical OR of %obj.%name and %src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">lorp %res, %propobj, %src</code><br />
<br />
　Performs a logical OR of %propobj and %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id500" name="id500" class="targanchor"><dfn>land</dfn></a>, <a id="id501" name="id501" class="targanchor"><dfn>landpd</dfn></a>, <a id="id502" name="id502" class="targanchor"><dfn>landpi</dfn></a>, <a id="id503" name="id503" class="targanchor"><dfn>landp</dfn></a><br />
(logical and)</dt>
<dd>Format: <code class="inlinecode">land %dest, %src</code><br />
<br />
　Performs a logical AND of %dest and %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">landpd %res, %obj.*name, %src</code><br />
<br />
　Performs a logical AND of %obj.*name and %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">landpi %res, %obj.%name, %src</code><br />
<br />
　Performs a logical AND of %obj.%name and %src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">landp %res, %propobj, %src</code><br />
<br />
　Performs a logical AND of %propobj and %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id504" name="id504" class="targanchor"><dfn>bor</dfn></a>, <a id="id505" name="id505" class="targanchor"><dfn>borpd</dfn></a>, <a id="id506" name="id506" class="targanchor"><dfn>borpi</dfn></a>, <a id="id507" name="id507" class="targanchor"><dfn>borp</dfn></a><br />
(bitwise or)</dt>
<dd>Format: <code class="inlinecode">bor %dest, %src</code><br />
<br />
　Performs a bitwise OR of %dest and %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">borpd %res, %obj.*name, %src</code><br />
<br />
　Performs a bitwise OR of %obj.*name and %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">borpi %res, %obj.%name, %src</code><br />
<br />
　Performs a bitwise OR of %obj.%name and %src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">borp %res, %propobj, %src</code><br />
<br />
　Performs a bitwise OR of %propobj and %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id508" name="id508" class="targanchor"><dfn>bxor</dfn></a>, <a id="id509" name="id509" class="targanchor"><dfn>bxorpd</dfn></a>, <a id="id510" name="id510" class="targanchor"><dfn>bxorpi</dfn></a>, <a id="id511" name="id511" class="targanchor"><dfn>bxorp</dfn></a><br />
(bitwise xor)</dt>
<dd>Format: <code class="inlinecode">bxor %dest, %src</code><br />
<br />
　Performs a bitwise exclusive OR of %dest and %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">bxorpd %res, %obj.*name, %src</code><br />
<br />
　Performs a bitwise exclusive OR of %obj.* name and %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">bxorpi %res, %obj.%name, %src</code><br />
<br />
　Performs a bitwise exclusive OR of %obj.%name and% src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">bxorp %res, %propobj, %src</code><br />
<br />
　Performs a bitwise exclusive OR of %propobj and %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id512" name="id512" class="targanchor"><dfn>band</dfn></a>, <a id="id513" name="id513" class="targanchor"><dfn>bandpd</dfn></a>, <a id="id514" name="id514" class="targanchor"><dfn>bandpi</dfn></a>, <a id="id515" name="id515" class="targanchor"><dfn>bandp</dfn></a><br />
(bitwise and)</dt>
<dd>Format: <code class="inlinecode">band %dest, %src</code><br />
<br />
　Performs a bitwise AND of %dest and %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">bandpd %res, %obj.*name, %src</code><br />
<br />
　Performs a bitwise AND of %obj.*name and %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">bandpi %res, %obj.%name, %src</code><br />
<br />
　Performs a bitwise AND of %obj.%name and %src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">bandp %res, %propobj, %src</code><br />
<br />
　Performs a bitwise AND of %propobj and %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id516" name="id516" class="targanchor"><dfn>sar</dfn></a>, <a id="id517" name="id517" class="targanchor"><dfn>sarpd</dfn></a>, <a id="id518" name="id518" class="targanchor"><dfn>sarpi</dfn></a>, <a id="id519" name="id519" class="targanchor"><dfn>sarp</dfn></a><br />
(shift arithmetic right)</dt>
<dd>Format: <code class="inlinecode">sar %dest, %src</code><br />
<br />
　%dest is arithmetically shifted right by the number of times represented by %src, and the result is stored in %dest.<br />
<br />
Format: <code class="inlinecode">sarpd %res, %obj.*name, %src</code><br />
<br />
　The result of arithmetic right shift of %obj.*name by the number of times represented by %src is stored in %obj.*name.<br />
<br />
Format: <code class="inlinecode">sarpi %res, %obj.%name, %src</code><br />
<br />
　The result of arithmetic right shift of %obj.%name by the number of times represented by %src is stored in %obj.%name.<br />
<br />
Format: <code class="inlinecode">sarp %res, %propobj, %src</code><br />
<br />
　%propobj is arithmetically shifted right by the number of times represented by %src, and the result is stored in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id520" name="id520" class="targanchor"><dfn>sal</dfn></a>, <a id="id521" name="id521" class="targanchor"><dfn>salpd</dfn></a>, <a id="id522" name="id522" class="targanchor"><dfn>salpi</dfn></a>, <a id="id523" name="id523" class="targanchor"><dfn>salp</dfn></a><br />
(shift arithmetic left)</dt>
<dd>Format: <code class="inlinecode">sal %dest, %src</code><br />
<br />
　%dest is arithmetically shifted left by the number of times represented by %src, and the result is stored in %dest.<br />
<br />
Format: <code class="inlinecode">salpd %res, %obj.*name, %src</code><br />
<br />
　The result of arithmetic left shift of %obj.*name by the number of times represented by %src is stored in %obj.*name.<br />
<br />
Format: <code class="inlinecode">salpi %res, %obj.%name, %src</code><br />
<br />
　Store the result of arithmetic left shift of %obj.%name by the number of times represented by %src in %obj.%name.<br />
<br />
Format: <code class="inlinecode">salp %res, %propobj, %src</code><br />
<br />
　%propobj is shifted left by the number of times represented by %src, and the result is stored in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id524" name="id524" class="targanchor"><dfn>sr</dfn></a>, <a id="id525" name="id525" class="targanchor"><dfn>srpd</dfn></a>, <a id="id526" name="id526" class="targanchor"><dfn>srpi</dfn></a>, <a id="id527" name="id527" class="targanchor"><dfn>srp</dfn></a><br />
(shift bitwise right)</dt>
<dd>Format: <code class="inlinecode">sr %dest, %src</code><br />
<br />
　%dest is shifted to the right by the number of times represented by %src, and the result is stored in %dest.<br />
<br />
Format: <code class="inlinecode">srpd %res, %obj.*name, %src</code><br />
<br />
　%obj.*name is shifted to the right by the number of times represented by %src, and the result is stored in %obj.*name.<br />
<br />
Format: <code class="inlinecode">srpi %res, %obj.%name, %src</code><br />
<br />
　%obj.%name is shifted right by the number of times represented by %src, and the result is stored in %obj.%name.<br />
<br />
Format: <code class="inlinecode">srp %res, %propobj, %src</code><br />
<br />
　%propobj is shifted right by the number of times represented by %src, and the result is stored in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id528" name="id528" class="targanchor"><dfn>add</dfn></a>, <a id="id529" name="id529" class="targanchor"><dfn>addpd</dfn></a>, <a id="id530" name="id530" class="targanchor"><dfn>addpi</dfn></a>, <a id="id531" name="id531" class="targanchor"><dfn>addp</dfn></a><br />
(add)</dt>
<dd>Format <code class="inlinecode">add %dest, %src</code><br />
<br />
　Add %src to %dest and store the result in %dest.<br />
<br />
Format <code class="inlinecode">addpd %res, %obj.*name, %src</code><br />
<br />
　Add %src to %obj.*name and store the result in %obj.*name.<br />
<br />
Format <code class="inlinecode">addpi %res, %obj.%name, %src</code><br />
<br />
　Add %src to %obj.%name and store the result in %obj.%name.<br />
<br />
Format <code class="inlinecode">addp %res, %propobj, %src</code><br />
<br />
　Add %src to %propobj and store the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id532" name="id532" class="targanchor"><dfn>sub</dfn></a>, <a id="id533" name="id533" class="targanchor"><dfn>subpd</dfn></a>, <a id="id534" name="id534" class="targanchor"><dfn>subpi</dfn></a>, <a id="id535" name="id535" class="targanchor"><dfn>subp</dfn></a><br />
(subtract)</dt>
<dd>Format: <code class="inlinecode">sub %dest, %src</code><br />
<br />
　Subtract %src from %dest and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">subpd %res, %obj.*name, %src</code><br />
<br />
　Subtract %src from %obj.*name and store the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">subpi %res, %obj.%name, %src</code><br />
<br />
　Subtract %src from %obj.%name and store the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">subp %res, %propobj, %src</code><br />
<br />
　Subtracts %src from %propobj and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id536" name="id536" class="targanchor"><dfn>mod</dfn></a>, <a id="id537" name="id537" class="targanchor"><dfn>modpd</dfn></a>, <a id="id538" name="id538" class="targanchor"><dfn>modpi</dfn></a>, <a id="id539" name="id539" class="targanchor"><dfn>modp</dfn></a><br />
(modulo)</dt>
<dd>Format: <code class="inlinecode">mod %dest, %src</code><br />
<br />
　Store the remainder of %dest divided by %src in %dest.<br />
<br />
Format: <code class="inlinecode">modpd %res, %obj.*name, %src</code><br />
<br />
　Store the remainder of %obj.*name divided by %src in %obj.*name.<br />
<br />
Format: <code class="inlinecode">modpi %res, %obj.%name, %src</code><br />
<br />
　Store the remainder of %obj.%name divided by %src in %obj.%name.<br />
<br />
Format: <code class="inlinecode">modp %res, %propobj, %src</code><br />
<br />
　Store the remainder of %propobj divided by %src in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id540" name="id540" class="targanchor"><dfn>div</dfn></a>, <a id="id541" name="id541" class="targanchor"><dfn>divpd</dfn></a>, <a id="id542" name="id542" class="targanchor"><dfn>divpi</dfn></a>, <a id="id543" name="id543" class="targanchor"><dfn>divp</dfn></a><br />
(real divide)</dt>
<dd>Format: <code class="inlinecode">div %dest, %src</code><br />
<br />
　Divide %dest by real number by %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">divpd %res, %obj.*name, %src</code><br />
<br />
　Divide %obj.*name by real number by %src and store the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">divpi %res, %obj.%name, %src</code><br />
<br />
　Divide %obj.* name by real number by %src and store the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">divp %res, %propobj, %src</code><br />
<br />
　Divide %propobj by real number by %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id544" name="id544" class="targanchor"><dfn>idiv</dfn></a>, <a id="id545" name="id545" class="targanchor"><dfn>idivpd</dfn></a>, <a id="id546" name="id546" class="targanchor"><dfn>idivpi</dfn></a>, <a id="id547" name="id547" class="targanchor"><dfn>idivp</dfn></a><br />
(integer divide)</dt>
<dd>Format: <code class="inlinecode">idiv %dest, %src</code><br />
<br />
　Divide %dest by %src by integer and store the result in %dest.<br />
<br />
Format: <code class="inlinecode">idivpd %res, %obj.*name, %src</code><br />
<br />
　Divide %obj.*name by %src by integer and store the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">idivpi %res, %obj.%name, %src</code><br />
<br />
　Divide %obj.%name by %src by integer and store the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">divp %res, %propobj, %src</code><br />
<br />
　Divide %propobj by %src and store the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id548" name="id548" class="targanchor"><dfn>mul</dfn></a>, <a id="id549" name="id549" class="targanchor"><dfn>mulpd</dfn></a>, <a id="id550" name="id550" class="targanchor"><dfn>mulpi</dfn></a>, <a id="id551" name="id551" class="targanchor"><dfn>mulp</dfn></a><br />
(multiply)</dt>
<dd>Format: <code class="inlinecode">mul %dest, %src</code><br />
<br />
　Multiplies %dest by %src and stores the result in %dest.<br />
<br />
Format: <code class="inlinecode">mulpd %res, %obj.*name, %src</code><br />
<br />
　Multiplies %obj.*name by %src and stores the result in %obj.*name.<br />
<br />
Format: <code class="inlinecode">mulpi %res, %obj.%name, %src</code><br />
<br />
　Multiplies %obj.%name by %src and stores the result in %obj.%name.<br />
<br />
Format: <code class="inlinecode">mulp %res, %propobj, %src</code><br />
<br />
　Multiplies %propobj by %src and stores the result in %propobj.<br />
<br />
　Among the above instructions, those with %res as a parameter will also store the result in %res if res is not 0.<br />
</dd>

<dt><a id="id552" name="id552" class="targanchor"><dfn>bnot</dfn></a><br />
(bitwise not)</dt>
<dd>Format: <code class="inlinecode">bnot %reg</code><br />
<br />
　Invert %reg bitwise and store it again in %reg.</dd>

<dt><a id="id553" name="id553" class="targanchor"><dfn>asc</dfn></a><br />
(make ascii string)</dt>
<dd>Format: <code class="inlinecode">asc %reg</code><br />
<br />
　Creates one character corresponding to the number represented by %reg and stores it again in %reg.</dd>

<dt><a id="id554" name="id554" class="targanchor"><dfn>chr</dfn></a><br />
(cheracter code)</dt>
<dd>Format: <code class="inlinecode">chr %reg</code><br />
<br />
　Store the character code of the first character of the character string represented by %reg in %reg.</dd>

<dt><a id="id555" name="id555" class="targanchor"><dfn>num</dfn></a><br />
(number)</dt>
<dd>Format: <code class="inlinecode">num %reg</code><br />
<br />
　Converts the register represented by %reg to a number.</dd>

<dt><a id="id556" name="id556" class="targanchor"><dfn>chs</dfn></a><br />
(change sign)</dt>
<dd>Format: <code class="inlinecode">chs %reg</code><br />
<br />
　Reverses the sign of the number in the register represented by %reg.</dd>

<dt><a id="id557" name="id557" class="targanchor"><dfn>inv</dfn></a><br />
(invalidate)</dt>
<dd>Format: <code class="inlinecode">inv %reg</code><br />
<br />
　Invalidates the object represented by %reg.</dd>

<dt><a id="id558" name="id558" class="targanchor"><dfn>chkinv</dfn></a><br />
(invalidate)</dt>
<dd>Format: <code class="inlinecode">chkinv %reg</code><br />
<br />
　Set %reg to true if the object represented by% reg has not been invalidated; otherwise, set it to false.</dd>

<dt><a id="id559" name="id559" class="targanchor"><dfn>int</dfn></a><br />
(convert to integer)</dt>
<dd>Format: <code class="inlinecode">int %reg</code><br />
<br />
　Converts the register represented by %reg to an integer.</dd>

<dt><a id="id560" name="id560" class="targanchor"><dfn>real</dfn></a><br />
(convert to real)</dt>
<dd>Format: <code class="inlinecode">real %reg</code><br />
<br />
　Converts the register represented by %reg to a real number.</dd>

<dt><a id="id561" name="id561" class="targanchor"><dfn>string</dfn></a><br />
(convert to string)</dt>
<dd>Format: <code class="inlinecode">string %reg</code><br />
<br />
　Converts the register represented by %reg to a string.</dd>

<dt><a id="id562" name="id562" class="targanchor"><dfn>octet</dfn></a><br />
(convert to octet)</dt>
<dd>Format: <code class="inlinecode">octet %reg</code><br />
<br />
　Converts the register represented by %reg to an octet sequence.</dd>

<dt><a id="id563" name="id563" class="targanchor"><dfn>typeof</dfn></a>, <a id="id564" name="id564" class="targanchor"><dfn>typeofd</dfn></a>, <a id="id565" name="id565" class="targanchor"><dfn>typeofi</dfn></a><br />
(check type)</dt>
<dd>Format: <code class="inlinecode">typeof %reg</code><br />
Format: <code class="inlinecode">typeofd %obj.*name</code><br />
Format: <code class="inlinecode">typeofi %obj.%name</code><br />
<br />
　Examine the type of %reg or %obj.*name or %obj.%name and store the string representing that type in %reg or %obj.*name or %obj.%name again.</dd>

<dt><a id="id566" name="id566" class="targanchor"><dfn>eval</dfn></a><br />
(evaluate expression)</dt>
<dd>Format: <code class="inlinecode">eval %reg</code><br />
<br />
　Executes the string represented by %reg as an expression and stores the result in %reg again.</dd>

<dt><a id="id567" name="id567" class="targanchor"><dfn>eexp</dfn></a><br />
(execute expression)</dt>
<dd>Format: <code class="inlinecode">eexp %reg</code><br />
<br />
　Executes the string represented by %reg as an expression and discards the result.</dd>

<dt><a id="id568" name="id568" class="targanchor"><dfn>chkins</dfn></a><br />
(check instance)</dt>
<dd>Format: <code class="inlinecode">chkins %reg, %classname</code><br />
<br />
　If the object represented by %reg is an instance of the class with the class name represented by %classname, store true in %reg, otherwise store false.</dd>

<dt><a id="id569" name="id569" class="targanchor"><dfn>call</dfn></a>, <a id="id570" name="id570" class="targanchor"><dfn>calld</dfn></a>, <a id="id571" name="id571" class="targanchor"><dfn>calli</dfn></a><br />
(function call)</dt>
<dd>Format: <code class="inlinecode">call %dest, %func(%arg1, %arg2, %arg3, ...)</code><br />
Format: <code class="inlinecode">calld %dest, %obj.*name(%arg1, %arg2, %arg3, ...)</code><br />
Format: <code class="inlinecode">calli %dest, %obj.%name(%arg1, %arg2, %arg3, ...)</code><br />
<br />
　Calls the function object represented by %func or %obj.*name or %obj.%name with the arguments %arg1,%arg2,%arg3 ... and stores the result in %dest. If %dest is %0, the result is discarded (not stored in %0).</dd>

<dt><a id="id572" name="id572" class="targanchor"><dfn>new</dfn></a><br />
(create new)</dt>
<dd>Format: <code class="inlinecode">new %dest, %func(%arg1, %arg2, %arg3, ...)</code><br />
<br />
　Constructs a class object represented by %func with the arguments %arg1, %arg2, %arg3 ... and stores the result in %dest.</dd>

<dt><a id="id573" name="id573" class="targanchor"><dfn>gpd</dfn></a>, <a id="id574" name="id574" class="targanchor"><dfn>gpds</dfn></a><br />
(get property direct)</dt>
<dd>Format: <code class="inlinecode">gpd %dest, %obj.*name</code><br />
Format: <code class="inlinecode">gpds %dest, %obj.*name</code><br />
<br />
　Reference the member represented by *name from the object represented by %obj and copy its value to %dest.<br />
　gpd involves calling a property handler, but gpds does not call the property handler and gets the property object itself.</dd>

<dt><a id="id575" name="id575" class="targanchor"><dfn>gpi</dfn></a>, <a id="id576" name="id576" class="targanchor"><dfn>gpis</dfn></a><br />
(get property indirect)</dt>
<dd>Format: <code class="inlinecode">gpi %dest, %obj.%name</code><br />
Format: <code class="inlinecode">gpis %dest, %obj.%name</code><br />
<br />
　References the member represented by %name from the object represented by %obj and copies its value to %dest.<br />
　gpi involves calling a property handler, but gpis does not call a property handler and gets the property object itself.</dd>

<dt><a id="id577" name="id577" class="targanchor"><dfn>spd</dfn></a>, <a id="id578" name="id578" class="targanchor"><dfn>spde</dfn></a>, <a id="id579" name="id579" class="targanchor"><dfn>spdeh</dfn></a>, <a id="id580" name="id580" class="targanchor"><dfn>spds</dfn></a><br />
(set property direct)</dt>
<dd>Format: <code class="inlinecode">spd %obj.*name</code><br />
Format: <code class="inlinecode">spde %obj.*name</code><br />
Format: <code class="inlinecode">spdeh %obj.*name</code><br />
Format: <code class="inlinecode">spds %obj.*name</code><br />
<br />
　Assign the value of %src to the member represented by *name of the object represented by %obj.<br />
　spd performs normal access, but raises an exception if the member does not exist.<br />
　spde creates a new member if it does not exist.<br />
　spdeh sets the member as a hidden member. It has no meaning in the current version.<br />
　spds does not call the property handler and replaces the property object itself.</dd>

<dt><a id="id581" name="id581" class="targanchor"><dfn>spi</dfn></a>, <a id="id582" name="id582" class="targanchor"><dfn>spie</dfn></a>, <a id="id583" name="id583" class="targanchor"><dfn>spis</dfn></a><br />
(set property indirect)</dt>
<dd>Format: <code class="inlinecode">spi %obj.%name</code><br />
Format: <code class="inlinecode">spie %obj.%name</code><br />
Format: <code class="inlinecode">spis %obj.%name</code><br />
<br />
　Assign the value of %src to the member represented by %name of the object represented by %obj.<br />
　spi performs normal access, but raises an exception if the member does not exist.<br />
　spie creates a new member if it does not exist.<br />
　spis does not call the property handler and replaces the property object itself.</dd>

<dt><a id="id584" name="id584" class="targanchor"><dfn>getp</dfn></a></dt>
<dd>Format: <code class="inlinecode">getp %reg, %propobj</code><br />
<br />
　Operate the property object getter represented by %propobj to get the property value and assign it to %reg. Performs the operation of the unary '*' operator.<br />
</dd>
<dt><a id="id585" name="id585" class="targanchor"><dfn>setp</dfn></a></dt>
<dd>Format: <code class="inlinecode">setp %propobj, %reg</code><br />
<br />
　Operate the setter of the property object represented by %propobj and set the value of %reg. Performs the operation of the unary '*' operator.<br />
</dd>
<dt><a id="id586" name="id586" class="targanchor"><dfn>deld</dfn></a>, <a id="id587" name="id587" class="targanchor"><dfn>deli</dfn></a><br />
(delete member)</dt>
<dd>Format: <code class="inlinecode">deld %reg, %obj.*name</code><br />
Format: <code class="inlinecode">deli %reg, %obj.%name</code><br />
<br />
　Deletes the member represented by *name or %name of the object represented by %obj.<br />
　Stores whether the deletion was successful or not in %reg, but discards the result if %reg is %0.</dd>

<dt><a id="id588" name="id588" class="targanchor"><dfn>srv</dfn></a><br />
(set result value)</dt>
<dd>Format: <code class="inlinecode">srv %reg</code><br />
<br />
　Returns the value of %reg as the return value of the function (the return value of the function is the value represented by %reg).</dd>

<dt><a id="id589" name="id589" class="targanchor"><dfn>ret</dfn></a><br />
(return)</dt>
<dd>Format: <code class="inlinecode">ret</code><br />
<br />
　Return to caller.</dd>

<dt><a id="id590" name="id590" class="targanchor"><dfn>entry</dfn></a><br />
(enter try block)</dt>
<dd>Format: <code class="inlinecode">entry ip, %reg</code><br />
<br />
　Enter an exception-protected block. If an exception occurs, jump to ip and set the exception object to %reg.</dd>

<dt><a id="id591" name="id591" class="targanchor"><dfn>extry</dfn></a><br />
(exit from try block)</dt>
<dd>Format: <code class="inlinecode">extry</code><br />
<br />
　Exit from an exception-protected block.</dd>

<dt><a id="id592" name="id592" class="targanchor"><dfn>throw</dfn></a><br />
(throw exception object)</dt>
<dd>Format: <code class="inlinecode">throw %reg</code><br />
<br />
　Throws the object represented by %reg as an exception object.</dd>

<dt><a id="id593" name="id593" class="targanchor"><dfn>chgthis</dfn></a><br />
(change this)</dt>
<dd>Format: <code class="inlinecode">chgthis %dest, %src</code><br />
<br />
　Changes the closure part of the object represented by% dest to the object represented by %src.</dd>

<dt><a id="id594" name="id594" class="targanchor"><dfn>global</dfn></a><br />
(get global object)</dt>
<dd>Format: <code class="inlinecode">global %dest</code><br />
<br />
　Store the global object in %dest.</dd>

<dt><a id="id595" name="id595" class="targanchor"><dfn>addci</dfn></a><br />
(add class instance information)</dt>
<dd>Format: <code class="inlinecode">addci %dest, %info</code><br />
<br />
　Add %info to the class instance information of the object represented by %dest.</dd>
<dt><a id="id596" name="id596" class="targanchor"><dfn>regmember</dfn></a><br />
(register members)</dt>
<dd>Format: <code class="inlinecode">regmember</code><br />
<br />
　Register a member of the class with the &quot;this&quot; object. Used internally.</dd>


<dt><a id="id597" name="id597" class="targanchor"><dfn>debugger</dfn></a><br />
(call debugger)</dt>
<dd>Format: <code class="inlinecode">debugger</code><br />
<br />
　Suspend execution and invoke the debugger. The current version of the implementation calls the native debugger instead of the TJS2 debugger.</dd>
</dl></div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
