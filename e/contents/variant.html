<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from variant.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>tTJSVariant type</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>
<h1><a id="id440" name="id440">About tTJSVariant</a>
</h1><div class="para"><div>
　The tTJSVariant type handles the data of &quot;variables&quot; in TJS2.<br />
　The tTJSVariant type has an internal type, and one type can represent void (undefined), object, integer, real number, string, and octet sequence.<br />
　In addition, these internal type conversions are automatically handled for operations.<br />
</div></div>


<h1><a id="id441" name="id441">tTJSVariantType</a>
</h1><div class="para"><div>
　Enumeration for internal types of tTJSVariant. It can be obtained with the tTJSVariant::<a id="id442" name="id442" class="targanchor"><dfn>Type</dfn></a> method.<br />
<br />
<dl>
<dt><a id="id443" name="id443" class="targanchor"><dfn>tvtVoid</dfn></a></dt>
<dd>　It is a void type. This type is used when the tTJSVariant type is constructed with a no-argument constructor. is not null.</dd>
<dt><a id="id444" name="id444" class="targanchor"><dfn>tvtObject</dfn></a></dt>
<dd>　Object type. If null, this is the internal type.</dd>
<dt><a id="id445" name="id445" class="targanchor"><dfn>tvtString</dfn></a></dt>
<dd>　String type.</dd>
<dt><a id="id446" name="id446" class="targanchor"><dfn>tvtOctet</dfn></a></dt>
<dd>　Octet sequence type.</dd>
<dt><a id="id447" name="id447" class="targanchor"><dfn>tvtInteger</dfn></a></dt>
<dd>　Integer type. Holds a numeric value of type tTVInteger.</dd>
<dt><a id="id448" name="id448" class="targanchor"><dfn>tvtReal</dfn></a></dt>
<dd>　It is a real type. Holds a numeric value of type tTVReal.</dd></dl></div></div>

<h1><a id="id449" name="id449">Object reference</a>
</h1><div class="para"><div>
　Of the internal types, objects are managed by the reference counter method.<br />
　Although the tTJSVariant itself manages the reference counter automatically, after extracting the pointer to the object from each method that obtains <a target="main" class="jump" href="interface.html">iTJSDispatch2 interface</a> from the tTJSVariant and the method that obtains the tTJSVariantClosure type, Note that you are not concerned with managing reference counters.<br />
</div></div>


<h1><a id="id450" name="id450">Object type</a>
</h1><div class="para"><div>
　The <a id="id451" name="id451" class="targanchor"><dfn>tTJSVariantClosure</dfn></a> type is the type that holds objects inside tTJSVariant. This type has a mechanism to hold two iTJSDispatch2 interfaces, one for the object itself and the other for information about the context in which the object runs.<br />
　tTJSVariantClosure type has each method which iTJSDispatch2 interface has. Accessing these methods via tTJSVariantClosure allows you to handle the execution context correctly.<br />
<br />
　There are two types, tTJSVariant::<a id="id452" name="id452" class="targanchor"><dfn>AsObjectClosure</dfn></a> and tTJSVariant::<a id="id453" name="id453" class="targanchor"><dfn>AsObjectClosureNoAddRef</dfn></a>, to extract the tTJSVariantClosure type from the tTJSVariant type. The former increments the object's reference counter, while the latter does not.<br />
　Since the tTJSVariantClosure type does not have a mechanism to automatically manage the reference counter, care must be taken in managing the reference counter after extracting the tTJSVariantClosure type from the tTJSVariant type.<br />
</div></div>


<h1><a id="id454" name="id454">String type</a>
</h1><div class="para"><div>
　The strings of TJS2 are managed by the reference counter method. In a simple copy, only the reference counter of the string is increased, and the actual character string is not duplicated.<br />
　The tTJSVariantString type is used to manage character strings used by the tTJSVariant and <a id="id455" name="id455" class="targanchor"><dfn>tTJSString</dfn></a> types. You can use tTJSVariant::<a id="id456" name="id456" class="targanchor"><dfn>AsString</dfn></a> to retrieve a tTJSVariantString from a tTJSVariant (this method increments the reference counter). However, care must be taken when using tTJSVariantString because the tTJSVariantString type itself does not have a mechanism for automatically managing reference counters.<br />
　It is easy to convert to tTJSString type because tTJSString type can manage reference counter (tTJSVariant defines conversion operator with tTJSString).<br />
</div></div>

<h1><a id="id457" name="id457">Octet row type</a>
</h1><div class="para"><div>
　The octet sequence of TJS2 is managed by the reference counter method like the character string type.<br />
　The <a id="id458" name="id458" class="targanchor"><dfn>tTJSVariantOctet</dfn></a> type is used to manage octet columns. Note that this type, like tTJSVariantString and tTJSVariantClosure, has no mechanism for managing reference counters. To extract a tTJSVariantOctet type from a tTJSVariant type, use tTJSVariant::<a id="id459" name="id459" class="targanchor"><dfn>AsOctet</dfn></a> (increment the reference counter) and tTJSVariant::<a id="id460" name="id460" class="targanchor"><dfn>AsOctetNoAddRef</dfn></a> (do not increment the reference counter). I can do it.<br />
</div></div>


<h1><a id="id461" name="id461">conversion</a>
</h1><div class="para"><div>
　tTJSVariant defines various conversion operators and constructors, so it can be treated like a primitive type.<br />
　Great care must be taken when converting to and from types managed by reference counters, as described above.<br />
</div></div>

<h1><a id="id462" name="id462">Calculation</a>
</h1><div class="para"><div>
　Various operators are overloaded, so operations can be performed in the same way as primitive types. Type conversions that are required during the operation are automatically processed.<br />
</div></div>

	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
