<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from with.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>with statement</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>
<h1><a id="id603" name="id603">with statement</a>
</h1><div class="para"><div>
　The <a id="id604" name="id604" class="targanchor"><dfn>with</dfn></a> statement specifies the object to refer to if you omit the left (object) in the <code class="inlinecode">.</code> (dot) operator.<br />
<br />
　The syntax is as follows:<br />

<br />
<code class="bq">with(expression)<br />
&nbsp;&nbsp;&nbsp;&nbsp;Statement&nbsp;or&nbsp;block<br />
</code>
<br />

<br />
　If the <code class="inlinecode">.</code> (dot) operator is omitted in the &quot;statement or block&quot;, the object referenced by the <code class="inlinecode">.</code> (dot) operator is the object specified by the expression in the with statement.<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;with(obj)&nbsp;.member&nbsp;=&nbsp;1;&nbsp;<span class="comment">//&nbsp;Same&nbsp;as&nbsp;obj.member&nbsp;=&nbsp;1;</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;with(obj)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.member1&nbsp;=&nbsp;1;&nbsp;<span class="comment">//&nbsp;Assign&nbsp;1&nbsp;to&nbsp;obj.member1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.member2&nbsp;=&nbsp;2;&nbsp;<span class="comment">//&nbsp;Assign&nbsp;2&nbsp;to&nbsp;obj.member2</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.member3++;&nbsp;<span class="comment">//&nbsp;Increment&nbsp;obj.member3</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.method();&nbsp;<span class="comment">//&nbsp;Call&nbsp;obj.method</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
　This statement can reduce typing, especially when setting a large number of properties on an object or calling methods in succession.<br />
<br />
　For example<br />
<br />

<br />
<code class="bq">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;object&nbsp;=&nbsp;new&nbsp;Foo();<br />
&nbsp;&nbsp;&nbsp;&nbsp;object.setPos(0,&nbsp;0);<br />
&nbsp;&nbsp;&nbsp;&nbsp;object.setSize(100,&nbsp;100);<br />
&nbsp;&nbsp;&nbsp;&nbsp;object.name&nbsp;=&nbsp;&quot;No&nbsp;name&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;object.color&nbsp;=&nbsp;0xffffffff;<br />
</code>
<br />

<br />
　You can write a script like this:<br />
<br />

<br />
<code class="bq">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;object&nbsp;=&nbsp;new&nbsp;Foo();<br />
&nbsp;&nbsp;&nbsp;&nbsp;with(object)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setPos(0,&nbsp;0);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setSize(100,&nbsp;100);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.name&nbsp;=&nbsp;&quot;No&nbsp;name&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.color&nbsp;=&nbsp;0xffffffff;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
</code>
<br />

<br />
</div></div>
<h1><a id="id605" name="id605">with statement and object</a>
</h1><div class="para"><div>
　The expression specified in the with statement is evaluated only once at the beginning of with, and only references it.<br />
<br />
　For example,<br />
<br />

<br />
<code class="bq">this.dic&nbsp;=&nbsp;%[];<br />
with(this.dic)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;.member&nbsp;=&nbsp;1;&nbsp;<span class="comment">//&nbsp;Assign&nbsp;1&nbsp;to&nbsp;this.dic.member</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;this.dic&nbsp;=&nbsp;0;&nbsp;<span class="comment">//&nbsp;Assign&nbsp;something&nbsp;different&nbsp;to&nbsp;dic</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;.member&nbsp;=&nbsp;2;&nbsp;<span class="comment">//&nbsp;Assign&nbsp;2&nbsp;to&nbsp;this.dic.member</span><br />
}<br />
</code>
<br />

<br />
　The second assignment to .member will succeed. This is because this.dic is evaluated the first time with is executed, and then the result is used. We do not always evaluate this.dic.<br />
<br />
　Since the evaluation is performed only once at the first time, if the application refers to the object many times, the code to refer to the object will not be generated every time, which may be faster.<br />
<br />
　The above example can be thought of as generating code equivalent to:<br />
<br />

<br />
<code class="bq">this.dic&nbsp;=&nbsp;%[];<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;anonymous_special_local_variable&nbsp;=&nbsp;this.dic;<br />
&nbsp;&nbsp;&nbsp;&nbsp;anonymous_special_local_variable.member&nbsp;=&nbsp;1;<br />
&nbsp;&nbsp;&nbsp;&nbsp;this.dic&nbsp;=&nbsp;0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;anonymous_special_local_variable.member&nbsp;=&nbsp;2;<br />
}<br />
</code>
<br />

<br />
　The with statement assigns the result of the evaluation of expression to an anonymous special local variable that can only be accessed with the left-hand omitted . (dot) operator, and subsequently uses the left-hand omitted . (dot) operator. The &quot;anonymous_special_local_variable&quot; will be referenced.<br />
　The scope in which the result of evaluating expression is retained can be regarded as the same as the local variable scope of &quot;anonymous_special_local_variable&quot; above (the same applies to the scope of the with statement).<br />
</div></div>

<h1><a id="id606" name="id606">The . operator outside the with statement</a>
</h1><div class="para"><div>
　If the left side of the <code class="inlinecode">.</code> (dot) operator is omitted outside the with statement, it refers to a global object.<br />
　For example, outside the with statement<br />
<br />
<code class="inlinecode">.foo = 1;</code><br />
<br />
　If you write<br />
<br />
<code class="inlinecode">global.foo = 1;</code><br />
<br />
　Has the same meaning as<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
